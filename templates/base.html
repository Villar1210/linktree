<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Lumiar - Empreendimentos{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <meta name="description" content="Empreendimentos Lumiar - Im贸veis de qualidade com localiza莽茫o privilegiada">
    <meta name="author" content="Construtora Lumiar">
</head>

    <body class="fb-theme">
        <!-- Facebook-style Header -->
        <header class="fb-header">
            <div class="fb-header-left">
                <span class="fb-logo"></span>
                <span class="fb-title">Lumiar Im贸veis</span>
            </div>
            <div class="fb-header-center">
                <input type="text" class="fb-search" placeholder="Buscar im贸veis, cidades, bairros...">
            </div>
            <div class="fb-header-right">
                <nav class="fb-nav">
                    <a href="/" class="fb-nav-link">In铆cio</a>
                    <a href="/empreendimentos" class="fb-nav-link">Empreendimentos</a>
                    <a href="/contato" class="fb-nav-link">Contato</a>
                    <a href="/admin/dashboard" class="fb-nav-link">Painel Admin</a>
                </nav>
                <div class="fb-profile-dropdown">
                    {% if session.user_id %}
                        <span class="fb-profile-name"> {{ session.user_name or 'Minha rea' }}</span>
                        <div class="fb-profile-menu">
                            <a href="/auth/profile">Meu Perfil</a>
                            {% if session.user_type == 'admin' %}
                                <a href="/admin/dashboard">Painel Admin</a>
                            {% elif session.user_type == 'corretor' %}
                                <a href="/corretor/dashboard">Dashboard Corretor</a>
                            {% elif session.user_type == 'imobiliaria' %}
                                <a href="/imobiliaria/dashboard">Painel Imobili谩ria</a>
                            {% elif session.user_type == 'cliente' %}
                                <a href="/cliente/dashboard">Meus Favoritos</a>
                            {% endif %}
                            <a href="/auth/logout" class="fb-logout">Sair</a>
                        </div>
                    {% else %}
                        <span class="fb-profile-name"> rea do Membro</span>
                        <div class="fb-profile-menu">
                            <a href="/auth/login">Fazer Login</a>
                            <a href="/auth/register">Criar Conta</a>
                        </div>
                    {% endif %}
                </div>
            </div>
        </header>

        <div class="fb-layout">
            <!-- Sidebar Facebook-style -->
            <aside class="fb-sidebar">
                <nav class="fb-sidebar-nav">
                    <a href="/" class="fb-sidebar-link"> In铆cio</a>
                    <a href="/empreendimentos" class="fb-sidebar-link"> Empreendimentos</a>
                    <a href="/contato" class="fb-sidebar-link"> Contato</a>
                    <a href="/admin/dashboard" class="fb-sidebar-link">锔 Painel Admin</a>
                </nav>
            </aside>
            <main class="fb-main">
                {% block content %}{% endblock %}
            </main>
        </div>

        <footer class="fb-footer">
            <div class="fb-footer-content">
                <span>&copy; 2024 Lumiar Im贸veis. Todos os direitos reservados.</span>
                <span>Contato: contato@lumiar.com.br | (11) 99999-9999</span>
            </div>
        </footer>

        <script>
        // Dropdown Facebook-style
        document.addEventListener('DOMContentLoaded', function() {
            const profile = document.querySelector('.fb-profile-dropdown');
            if (profile) {
                profile.addEventListener('click', function(e) {
                    e.stopPropagation();
                    profile.classList.toggle('active');
                });
                document.addEventListener('click', function() {
                    profile.classList.remove('active');
                });
            }
        });
        </script>
    </body>

    <script>
        //  iVillar Linktree - Dropdown Functionality
        document.addEventListener('DOMContentLoaded', function() {
            // ======= DROPDOWN MENU FUNCTIONALITY =======
            const dropdowns = document.querySelectorAll('.nav-dropdown');
            
            dropdowns.forEach(dropdown => {
                const toggle = dropdown.querySelector('.dropdown-toggle');
                const menu = dropdown.querySelector('.dropdown-menu');
                
                if (toggle && menu) {
                    // Click toggle functionality for mobile
                    toggle.addEventListener('click', function(e) {
                        e.preventDefault();
                        
                        // Close other dropdowns
                        dropdowns.forEach(otherDropdown => {
                            if (otherDropdown !== dropdown) {
                                otherDropdown.classList.remove('active');
                            }
                        });
                        
                        // Toggle current dropdown
                        dropdown.classList.toggle('active');
                    });
                }
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.nav-dropdown')) {
                    dropdowns.forEach(dropdown => {
                        dropdown.classList.remove('active');
                    });
                }
            });
            
            // Close dropdown on escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    dropdowns.forEach(dropdown => {
                        dropdown.classList.remove('active');
                    });
                }
            });
        });
    </script>
</body>
</html>